(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{296:function(e){function t(e,t,r){function n(){var s=Date.now()-c;s<t&&s>=0?l=setTimeout(n,t-s):(l=null,r||(i=e.apply(u,o),u=o=null))}null==t&&(t=100);var l,o,u,c,i,s=function(){u=this,o=arguments,c=Date.now();var s=r&&!l;return l||(l=setTimeout(n,t)),s&&(i=e.apply(u,o),u=o=null),i};return s.clear=function(){l&&(clearTimeout(l),l=null)},s.flush=function(){l&&(i=e.apply(u,o),u=o=null,clearTimeout(l),l=null)},s}t.debounce=t,e.exports=t},8876:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var n=r(5893),l=r(9477),o=r(7294),u=r(8978);function c({all:e,scene:t,camera:r}){let n=(0,u.z)(({gl:e})=>e),c=(0,u.z)(({camera:e})=>e),i=(0,u.z)(({scene:e})=>e);return o.useLayoutEffect(()=>{let o=[];e&&(t||i).traverse(e=>{!1===e.visible&&(o.push(e),e.visible=!0)}),n.compile(t||i,r||c);let u=new l.WebGLCubeRenderTarget(128),s=new l.CubeCamera(.01,1e5,u);s.update(n,t||i),u.dispose(),o.forEach(e=>e.visible=!1)},[]),null}var i=r(7462),s=r(296),a=r.n(s);let f=["x","y","top","bottom","left","right","width","height"],d=(e,t)=>f.every(r=>e[r]===t[r]);var v=Object.defineProperty,p=Object.defineProperties,m=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,w=(e,t,r)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))b.call(t,r)&&w(e,r,t[r]);if(h)for(var r of h(t))E.call(t,r)&&w(e,r,t[r]);return e},g=(e,t)=>p(e,m(t));function O(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}let C=O(o.createContext(null));class z extends o.Component{render(){return o.createElement(C.Provider,{value:this._reactInternals},this.props.children)}}let{ReactCurrentOwner:P,ReactCurrentDispatcher:S}=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;r(2576),r(6525),r(3840);let _={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function L(e){let{handlePointer:t}=(0,u.c)(e);return{priority:1,enabled:!0,compute(e,t,r){t.pointer.set(e.offsetX/t.size.width*2-1,-(2*(e.offsetY/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(_).reduce((e,r)=>({...e,[r]:t(r)}),{}),update:()=>{var t;let{events:r,internal:n}=e.getState();null!=(t=n.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(n.lastEvent.current)},connect:t=>{var r;let{set:n,events:l}=e.getState();null==l.disconnect||l.disconnect(),n(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(r=l.handlers)?r:[]).forEach(([e,r])=>{let[n,l]=_[e];t.addEventListener(n,r,{passive:l})})},disconnect:()=>{let{set:t,events:r}=e.getState();if(r.connected){var n;Object.entries(null!=(n=r.handlers)?n:[]).forEach(([e,t])=>{if(r&&r.connected instanceof HTMLElement){let[n]=_[e];r.connected.removeEventListener(n,t)}}),t(e=>({events:{...e.events,connected:void 0}}))}}}}let R=o.forwardRef(function({children:e,fallback:t,resize:r,style:n,gl:c,events:s=L,eventSource:f,eventPrefix:v,shadows:p,linear:m,flat:h,legacy:b,orthographic:E,frameloop:w,dpr:_,performance:R,raycaster:j,camera:x,onPointerMissed:k,onCreated:M,...T},I){o.useMemo(()=>(0,u.e)(l),[]);let B=function(){var e,t;let r=function(){let e=o.useContext(C);if(!e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=o.useId(),r=o.useMemo(()=>{var r;return null!=(r=P.current)?r:function e(t,r,n){if(!t)return;if(!0===n(t))return t;let l=r?t.return:t.child;for(;l;){let t=e(l,r,n);if(t)return t;l=r?null:l.sibling}}(e,!1,e=>{let r=e.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}})},[e,t]);return r}(),[n]=o.useState(()=>new Map);n.clear();let l=r;for(;l;){let r=null==(e=l.type)?void 0:e._context;r&&r!==C&&!n.has(r)&&n.set(r,null==(t=S.current)?void 0:t.readContext(O(r))),l=l.return}return o.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>o.createElement(e,null,o.createElement(t.Provider,g(y({},r),{value:n.get(t)}))),e=>o.createElement(z,y({},e))),[n])}(),[D,F]=function(e){var t;let{debounce:r,scroll:n,polyfill:l,offsetSize:u}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,c=l||("undefined"==typeof window?class{}:window.ResizeObserver);if(!c)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[i,s]=(0,o.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),f=(0,o.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:i}),v=r?"number"==typeof r?r:r.scroll:null,p=r?"number"==typeof r?r:r.resize:null,m=(0,o.useRef)(!1);(0,o.useEffect)(()=>(m.current=!0,()=>void(m.current=!1)));let[h,b,E]=(0,o.useMemo)(()=>{let e=()=>{if(!f.current.element)return;let{left:e,top:t,width:r,height:n,bottom:l,right:o,x:c,y:i}=f.current.element.getBoundingClientRect(),a={left:e,top:t,width:r,height:n,bottom:l,right:o,x:c,y:i};f.current.element instanceof HTMLElement&&u&&(a.height=f.current.element.offsetHeight,a.width=f.current.element.offsetWidth),Object.freeze(a),m.current&&!d(f.current.lastBounds,a)&&s(f.current.lastBounds=a)};return[e,p?a()(e,p):e,v?a()(e,v):e]},[s,u,v,p]);function w(){f.current.scrollContainers&&(f.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",E,!0)),f.current.scrollContainers=null),f.current.resizeObserver&&(f.current.resizeObserver.disconnect(),f.current.resizeObserver=null)}function y(){f.current.element&&(f.current.resizeObserver=new c(E),f.current.resizeObserver.observe(f.current.element),n&&f.current.scrollContainers&&f.current.scrollContainers.forEach(e=>e.addEventListener("scroll",E,{capture:!0,passive:!0})))}let g=e=>{e&&e!==f.current.element&&(w(),f.current.element=e,f.current.scrollContainers=function e(t){let r=[];if(!t||t===document.body)return r;let{overflow:n,overflowX:l,overflowY:o}=window.getComputedStyle(t);return[n,l,o].some(e=>"auto"===e||"scroll"===e)&&r.push(t),[...r,...e(t.parentElement)]}(e),y())};return t=Boolean(n),(0,o.useEffect)(()=>{if(t)return window.addEventListener("scroll",E,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",E,!0)},[E,t]),(0,o.useEffect)(()=>(window.addEventListener("resize",b),()=>void window.removeEventListener("resize",b)),[b]),(0,o.useEffect)(()=>{w(),y()},[n,E,b]),(0,o.useEffect)(()=>w,[]),[g,i,h]}({scroll:!0,debounce:{scroll:50,resize:0},...r}),N=o.useRef(null),H=o.useRef(null),[W,Z]=o.useState(null);o.useImperativeHandle(I,()=>N.current);let U=(0,u.u)(k),[Y,A]=o.useState(!1),[X,G]=o.useState(!1);if(Y)throw Y;if(X)throw X;let q=o.useRef(null);return F.width>0&&F.height>0&&W&&(q.current||(q.current=(0,u.a)(W)),q.current.configure({gl:c,events:s,shadows:p,linear:m,flat:h,legacy:b,orthographic:E,frameloop:w,dpr:_,performance:R,raycaster:j,camera:x,size:F,onPointerMissed:(...e)=>null==U.current?void 0:U.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(f?(0,u.i)(f)?f.current:f:H.current),v&&e.setEvents({compute:(e,t)=>{let r=e[v+"X"],n=e[v+"Y"];t.pointer.set(r/t.size.width*2-1,-(2*(n/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==M||M(e)}}),q.current.render(o.createElement(B,null,o.createElement(u.E,{set:G},o.createElement(o.Suspense,{fallback:o.createElement(u.B,{set:A})},e))))),(0,u.b)(()=>{Z(N.current)},[]),o.useEffect(()=>{if(W)return()=>(0,u.d)(W)},[W]),o.createElement("div",(0,i.Z)({ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:f?"none":"auto",...n}},T),o.createElement("div",{ref:D,style:{width:"100%",height:"100%"}},o.createElement("canvas",{ref:N,style:{display:"block"}},t)))}),j=o.forwardRef(function(e,t){return o.createElement(z,null,o.createElement(R,(0,i.Z)({},e,{ref:t})))});var x=r(2622);let k=e=>{let{children:t,...r}=e,l=(0,x.ZP)(e=>e.dom),{noToneMap:o,legacyCM:u,canvasProps:i}=r;return(0,n.jsxs)(j,{dpr:[1,1.5],mode:"concurrent",flat:o,legacy:u,style:{position:"fixed",top:0,zIndex:1,userSelect:"none"},onCreated:e=>{l&&l.current&&e.events.connect(l.current)},...i,children:[(0,n.jsx)(c,{all:!0}),t]})};var M=k},7462:function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,{Z:function(){return n}})}}]);